From 7f297cd8fcca0b793bafa93be43e12e437a5382d Mon Sep 17 00:00:00 2001
From: Masahiro Yamada <masahiroy@kernel.org>
Date: Tue, 24 May 2022 01:46:23 +0900
Subject: [PATCH 68/71] modpost: remove the unused argument of check_sec_ref()

check_sec_ref() does not use the first parameter 'mod'.

Signed-off-by: Masahiro Yamada <masahiroy@kernel.org>
Reviewed-by: Nick Desaulniers <ndesaulniers@google.com>
---
 scripts/mod/modpost.c       | 2 +-
 scripts/mod/section-check.c | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/scripts/mod/modpost.c b/scripts/mod/modpost.c
index 36c27906c..b9eea15a9 100644
--- a/scripts/mod/modpost.c
+++ b/scripts/mod/modpost.c
@@ -876,7 +876,7 @@ static void read_symbols(const char *modname)
 					     sym_get_data(&info, sym));
 	}
 
-	check_sec_ref(mod, modname, &info);
+	check_sec_ref(modname, &info);
 
 	if (!mod->is_vmlinux) {
 		version = get_modinfo(&info, "version");
diff --git a/scripts/mod/section-check.c b/scripts/mod/section-check.c
index a8086d908..667db262f 100644
--- a/scripts/mod/section-check.c
+++ b/scripts/mod/section-check.c
@@ -1205,8 +1205,7 @@ static void section_rel(const char *modname, struct elf_info *elf,
  * to find all references to a section that reference a section that will
  * be discarded and warns about it.
  **/
-void check_sec_ref(struct module *mod, const char *modname,
-		   struct elf_info *elf)
+void check_sec_ref(const char *modname, struct elf_info *elf)
 {
 	int i;
 	Elf_Shdr *sechdrs = elf->sechdrs;
-- 
2.36.1.74.g277cf0bc36


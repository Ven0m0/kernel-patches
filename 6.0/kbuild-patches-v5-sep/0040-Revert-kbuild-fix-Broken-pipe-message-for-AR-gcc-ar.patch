From 8ef72476571034b00cebf6b7713977274fbd967f Mon Sep 17 00:00:00 2001
From: Tor Vic <torvic9@mailbox.org>
Date: Sun, 30 Oct 2022 11:50:31 +0100
Subject: [PATCH 40/44] Revert "kbuild: fix 'Broken pipe' message for
 AR=gcc-ar"

This reverts commit 638aee53dabea7140a6a5e398bd67d493e977b2d.
---
 Makefile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Makefile b/Makefile
index f8000ed90..70bc90895 100644
--- a/Makefile
+++ b/Makefile
@@ -1147,7 +1147,7 @@ quiet_cmd_ar_vmlinux.a = AR      $@
       cmd_ar_vmlinux.a = \
 	rm -f $@; \
 	$(AR) cDPrST $@ $(KBUILD_VMLINUX_OBJS); \
-	$(AR) mPiT $$($(AR) t $@ | sed -n 1p) $@ $$($(AR) t $@ | grep -F --file=$(srctree)/scripts/head-object-list.txt)
+	$(AR) mPiT $$($(AR) t $@ | head -n1) $@ $$($(AR) t $@ | grep -F --file=$(srctree)/scripts/head-object-list.txt)
 
 targets += vmlinux.a
 vmlinux.a: $(KBUILD_VMLINUX_OBJS) scripts/head-object-list.txt autoksyms_recursive FORCE
-- 
2.38.1.143.g1fc3c0ad40

